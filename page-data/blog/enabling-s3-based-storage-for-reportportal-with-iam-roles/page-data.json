{"componentChunkName":"component---src-templates-blog-post-blog-post-tsx","path":"/blog/enabling-s3-based-storage-for-reportportal-with-iam-roles","result":{"data":{"contentfulBlogPost":{"id":"f78c35c4-298d-5ef2-901e-86ca31d24c1b","slug":"enabling-s3-based-storage-for-reportportal-with-iam-roles","industry":"Product","title":{"title":"Enabling S3-Based Storage for ReportPortal with IAM Roles"},"seoTitle":null,"seoDescription":"Switch your test reporting tool to S3-backed storage using IAM roles for enhanced security and scalability.","featuredImage":{"file":{"url":"//images.ctfassets.net/1n1nntnzoxp4/bRbqqH00MeZ8Xe3MWg85a/36716bff1a7d20e31617d00d4de38cc9/S3-storage-icon.png"}},"date":"June 18, 2025","author":"ReportPortal Team","articleBody":{"raw":"{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"Modern test automation reporting tools like ReportPortal often require a reliable, scalable storage backend to handle artifacts, logs, and attachments. Amazon S3 is an excellent choice: it’s cost-effective, highly available, and integrates seamlessly with AWS IAM for secure access. Below is a concise overview of how to configure ReportPortal to use S3 as its storage layer in two common deployment scenarios—Kubernetes on EKS (using IAM Roles for Service Accounts) and Docker on an EC2 instance (using an instance profile).\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"Brief Summary\",\"nodeType\":\"text\"},{\"data\":{\"uri\":\"http://localhost:3000/docs/releases/Version25.1#brief-summary\"},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"​\",\"nodeType\":\"text\"}],\"nodeType\":\"hyperlink\"},{\"data\":{},\"marks\":[],\"value\":\"\",\"nodeType\":\"text\"}],\"nodeType\":\"heading-2\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Set up an S3 bucket\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" where ReportPortal will store all data (e.g., attachments, screenshots, logs).\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Create an IAM role\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" that grants read/write access to that bucket.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"For EKS: configure a trust policy allowing a specific Kubernetes service account (via the cluster’s OIDC provider) to assume the role.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"For EC2: attach the role as an instance profile so the Docker containers inherit its permissions from the instance metadata.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Deploy ReportPortal\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" using either:\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Kubernetes on EKS \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\"(IRSA — IAM Roles for Service Accounts): annotate the ReportPortal service account with the new role’s ARN so pods retrieve temporary credentials automatically.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Docker on EC2\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\": configure environment variables in the \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\"docker-compose.yml\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" so the SDK picks up credentials from the instance profile without specifying access keys.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"ordered-list\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"By following these steps, ReportPortal will read and write directly to S3—eliminating the need for MinIO (its default local storage) and leveraging AWS’s managed storage infrastructure.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"Core Points\",\"nodeType\":\"text\"},{\"data\":{\"uri\":\"http://localhost:3000/docs/releases/Version25.1#core-points\"},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"​\",\"nodeType\":\"text\"}],\"nodeType\":\"hyperlink\"},{\"data\":{},\"marks\":[],\"value\":\"\",\"nodeType\":\"text\"}],\"nodeType\":\"heading-2\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"1. Create an S3 Bucket\",\"nodeType\":\"text\"},{\"data\":{\"uri\":\"http://localhost:3000/docs/releases/Version25.1#1-create-an-s3-bucket\"},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"​\",\"nodeType\":\"text\"}],\"nodeType\":\"hyperlink\"},{\"data\":{},\"marks\":[],\"value\":\"\",\"nodeType\":\"text\"}],\"nodeType\":\"heading-3\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"Command (us-east-1):\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"code\"}],\"value\":\"aws s3api create-bucket --bucket my-rp-bucket --region us-east-1\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\"\\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"If your region isn’t \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\"us-east-1\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\", add:\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"code\"}],\"value\":\"--create-bucket-configuration LocationConstraint=<region>\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\"\\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"Ensure the bucket name (e.g., \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\"my-rp-bucket\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\") follows AWS naming rules.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"},{\"data\":{},\"content\":[],\"nodeType\":\"hr\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"2. Define and Create the IAM Role\",\"nodeType\":\"text\"},{\"data\":{\"uri\":\"http://localhost:3000/docs/releases/Version25.1#2-define-and-create-the-iam-role\"},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"​\",\"nodeType\":\"text\"}],\"nodeType\":\"hyperlink\"},{\"data\":{},\"marks\":[],\"value\":\"\",\"nodeType\":\"text\"}],\"nodeType\":\"heading-3\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"a. Trust Policy (for EKS/IRSA)\",\"nodeType\":\"text\"},{\"data\":{\"uri\":\"http://localhost:3000/docs/releases/Version25.1#a-trust-policy-for-eksirsa\"},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"​\",\"nodeType\":\"text\"}],\"nodeType\":\"hyperlink\"},{\"data\":{},\"marks\":[],\"value\":\"\",\"nodeType\":\"text\"}],\"nodeType\":\"heading-4\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"Create a file named \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\"trust-policy.json\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" with content similar to:\\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"code\"}],\"value\":\"{\\n    \\\"Version\\\": \\\"2012-10-17\\\",\\n    \\\"Statement\\\": [\\n        {\\n            \\\"Effect\\\": \\\"Allow\\\",\\n            \\\"Principal\\\": {\\n                \\\"Federated\\\": \\\"arn:aws:iam::ACCOUNT_ID:oidc-provider/oidc.eks.REGION.amazonaws.com/id/OIDC_ID\\\"\\n            },\\n            \\\"Action\\\": \\\"sts:AssumeRoleWithWebIdentity\\\",\\n            \\\"Condition\\\": {\\n                \\\"StringLike\\\": {\\n                    \\\"oidc.eks.REGION.amazonaws.com/id/OIDC_ID:aud\\\": \\\"sts.amazonaws.com\\\",\\n                    \\\"oidc.eks.REGION.amazonaws.com/id/OIDC_ID:sub\\\": \\\"system:serviceaccount:NAMESPACE:SA_NAME\\\"\\n                }\\n            }\\n        }\\n    ]\\n}\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\"\\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Replace placeholders\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\":\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"ACCOUNT_ID: your AWS account number\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"REGION: EKS cluster region (e.g., \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\"us-east-1\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\")\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"OIDC_ID: the unique OIDC identifier for your cluster\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"NAMESPACE: Kubernetes namespace (e.g., \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\"default\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" or a custom namespace)\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"SA_NAME: name of the service account you’ll create for ReportPortal (e.g., \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\"reportportal\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\")\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Create the role\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\":\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"code\"}],\"value\":\"aws iam create-role \\\\\\n  --role-name my-rp-s3-role \\\\\\n  --assume-role-policy-document file://trust-policy.json\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\"\\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"b. Permissions Policy\",\"nodeType\":\"text\"},{\"data\":{\"uri\":\"http://localhost:3000/docs/releases/Version25.1#b-permissions-policy\"},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"​\",\"nodeType\":\"text\"}],\"nodeType\":\"hyperlink\"},{\"data\":{},\"marks\":[],\"value\":\"\",\"nodeType\":\"text\"}],\"nodeType\":\"heading-4\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"Save this as \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\"s3-rw-policy.json\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" (grant Listing, GetBucketLocation, GetObject, PutObject, DeleteObject):\\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"code\"}],\"value\":\"{\\n    \\\"Version\\\": \\\"2012-10-17\\\",\\n    \\\"Statement\\\": [\\n        {\\n            \\\"Sid\\\": \\\"AllowListAndLocation\\\",\\n            \\\"Effect\\\": \\\"Allow\\\",\\n            \\\"Action\\\": [\\n                \\\"s3:ListBucket\\\",\\n                \\\"s3:GetBucketLocation\\\"\\n            ],\\n            \\\"Resource\\\": \\\"arn:aws:s3:::my-rp-bucket\\\"\\n        },\\n        {\\n            \\\"Sid\\\": \\\"AllowObjectOpsAnywhere\\\",\\n            \\\"Effect\\\": \\\"Allow\\\",\\n            \\\"Action\\\": [\\n                \\\"s3:PutObject\\\",\\n                \\\"s3:GetObject\\\",\\n                \\\"s3:DeleteObject\\\",\\n                \\\"s3:GetObjectAcl\\\",\\n                \\\"s3:GetObjectVersion\\\"\\n            ],\\n            \\\"Resource\\\": \\\"arn:aws:s3:::my-rp-bucket/*\\\"\\n        }\\n    ]\\n}\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\"\\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Attach to the role\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\":\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"code\"}],\"value\":\"aws iam put-role-policy \\\\\\n  --role-name my-rp-s3-role \\\\\\n  --policy-name S3AccessPolicy \\\\\\n  --policy-document file://s3-rw-policy.json\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\"\\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"},{\"data\":{},\"content\":[],\"nodeType\":\"hr\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"3. Kubernetes on EKS (IRSA)\",\"nodeType\":\"text\"},{\"data\":{\"uri\":\"http://localhost:3000/docs/releases/Version25.1#3-kubernetes-on-eks-irsa\"},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"​\",\"nodeType\":\"text\"}],\"nodeType\":\"hyperlink\"},{\"data\":{},\"marks\":[],\"value\":\"\",\"nodeType\":\"text\"}],\"nodeType\":\"heading-3\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Ensure prerequisites\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\":\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"EKS cluster version ≥ 1.28\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"OIDC provider enabled (follow \",\"nodeType\":\"text\"},{\"data\":{\"uri\":\"https://docs.aws.amazon.com/eks/latest/userguide/enable-iam-roles-for-service-accounts.html\"},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"AWS guide\",\"nodeType\":\"text\"}],\"nodeType\":\"hyperlink\"},{\"data\":{},\"marks\":[],\"value\":\")\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Configure ReportPortal’s Helm \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"bold\"},{\"type\":\"italic\"}],\"value\":\"values.yaml\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\":\\n\\n\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"code\"}],\"value\":\"global:\\n  serviceAccount:\\n    create: true\\n    name: reportportal\\n    annotations:\\n      eks.amazonaws.com/role-arn: \\\"arn:aws:iam::ACCOUNT_ID:role/my-rp-s3-role\\\"\\n\\nstorage:\\n  type: s3\\n  accesskey: \\\"\\\"\\n  secretkey: \\\"\\\"\\n  region: \\\"us-standard\\\"\\n  bucket:\\n    type: single\\n    bucketDefaultName: \\\"my-rp-bucket\\\"\\n\\nminio:\\n  enable: false\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\"\\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"When using IRSA (IAM Roles for Service Accounts), access and secret keys are not required—they should remain empty.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"The region name \\\"us-standard\\\" is used by JClouds as an alias for AWS region us-east-1.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"MinIO, a local S3-compatible storage service, is turned off since an external S3 bucket is being used instead.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"ordered-list\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Install or upgrade ReportPortal\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" with Helm:\\n\\n\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"code\"}],\"value\":\"helm install my-reportportal \\\\\\n  --namespace reportportal-namespace \\\\\\n  --set uat.superadminInitPasswd.password=\\\"MyPassword\\\" \\\\\\n  -f values.yaml \\\\\\n  reportportal/reportportal\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\"\\nThis ensures pods assume the IAM role and communicate with S3 directly.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"ordered-list\"},{\"data\":{},\"content\":[],\"nodeType\":\"hr\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"4. Docker on EC2 (Instance Profile)\",\"nodeType\":\"text\"},{\"data\":{\"uri\":\"http://localhost:3000/docs/releases/Version25.1#4-docker-on-ec2-instance-profile\"},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"​\",\"nodeType\":\"text\"}],\"nodeType\":\"hyperlink\"},{\"data\":{},\"marks\":[],\"value\":\"\",\"nodeType\":\"text\"}],\"nodeType\":\"heading-3\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Attach the IAM role to your EC2 instance\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" as an instance profile:\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"If launching a new instance, select or create an IAM role with the same \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\"my-rp-s3-role \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\"attached.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"For an existing instance, follow \",\"nodeType\":\"text\"},{\"data\":{\"uri\":\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/attach-iam-role.html\"},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"AWS docs\",\"nodeType\":\"text\"}],\"nodeType\":\"hyperlink\"},{\"data\":{},\"marks\":[],\"value\":\" to associate the role.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"By leaving \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\"DATASTORE_ACCESSKEY\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" blank, the AWS SDK (DefaultCredentialsProvider) automatically pulls temporary credentials from IMDS.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Prepare docker-compose.yml\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" for ReportPortal to use S3:\\n\\nHere’s a minimal example so ReportPortal knows to use S3. We leave\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\" DATASTORE_ACCESSKEY\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" and \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\"DATASTORE_SECRETKEY\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\" blank so the SDK picks up the IAM role automatically: \\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"code\"}],\"value\":\"version: '3.8'\\n\\nservices:\\n  reportportal:\\n    image: reportportal/reportportal:latest\\n    environment:\\n      RP_FEATURE_FLAGS: singleBucket\\n      DATASTORE_TYPE: s3\\n      DATASTORE_REGION: us-standard\\n      DATASTORE_ACCESSKEY: \\\"\\\"\\n      DATASTORE_SECRETKEY: \\\"\\\"\\n      DATASTORE_DEFAULTBUCKETNAME: my-rp-bucket\\n      UAT_SUPERADMIN_INIT_PASSWORD: YourStrongPassword\\n    ports:\\n      - \\\"8080:8080\\\"\\n    networks:\\n      - rp-network\\n\\nnetworks:\\n  rp-network:\\n    driver: bridge\\n\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\"\\nThe region us-standard is a JClouds alias for AWS region us-east-1.\\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Launch ReportPortal\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\":\\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"code\"}],\"value\":\"docker-compose -p reportportal up -d\\n\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"ordered-list\"},{\"data\":{},\"content\":[],\"nodeType\":\"hr\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"Key Benefits & Takeaways\",\"nodeType\":\"text\"},{\"data\":{\"uri\":\"http://localhost:3000/docs/releases/Version25.1#key-benefits--takeaways\"},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"​\",\"nodeType\":\"text\"}],\"nodeType\":\"hyperlink\"},{\"data\":{},\"marks\":[],\"value\":\"\",\"nodeType\":\"text\"}],\"nodeType\":\"heading-2\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Security best practices\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\":\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"Neither AWS access keys nor secrets are stored in plain text.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"Pods (via IRSA) or containers (via instance profile) assume temporary credentials that automatically rotate.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Flexibility\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\":\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"Same IAM role can be used in multiple contexts (EKS, EC2, Lambda, etc.), as long as the trust policy is configured.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Scalability\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\":\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"S3 can handle unlimited data, and you only pay for what you store and transfer.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"}],\"nodeType\":\"list-item\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[{\"type\":\"bold\"}],\"value\":\"Minimal configuration changes\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\":\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"},{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"ReportPortal’s Helm chart and Docker Compose only require toggling off MinIO, switching to \",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[{\"type\":\"italic\"}],\"value\":\"S3\",\"nodeType\":\"text\"},{\"data\":{},\"marks\":[],\"value\":\", and supplying the bucket name and region.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"}],\"nodeType\":\"list-item\"}],\"nodeType\":\"unordered-list\"},{\"data\":{},\"content\":[{\"data\":{},\"marks\":[],\"value\":\"Switching ReportPortal’s storage backend from its default MinIO to Amazon S3 is straightforward and aligns with AWS best practices. By creating a dedicated S3 bucket and a properly scoped IAM role, you can grant read/write access without embedding credentials. In Kubernetes on EKS, leverage IAM Roles for Service Accounts (IRSA) to keep your pods secure and ephemeral. In Docker-on-EC2 scenarios, attach the IAM role to the instance so containers automatically receive valid credentials via the EC2 metadata service. Either way, your test reports, attachments, and logs will live in S3—ensuring durability, availability, and easier lifecycle management.\",\"nodeType\":\"text\"}],\"nodeType\":\"paragraph\"}],\"nodeType\":\"document\"}","references":[]}}},"pageContext":{"slug":"enabling-s3-based-storage-for-reportportal-with-iam-roles"}},"staticQueryHashes":["1130895138","2991584196","3617663447"],"slicesMap":{}}